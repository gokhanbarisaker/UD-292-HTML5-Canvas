<!doctype html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>MEME Generator</title>
        <meta name="description" content="UD 292, MEME Generator">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.2/normalize.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
        <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
        <script>
        $.support.cors = true;
        </script>
    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <!-- Add your site or application content here -->
        <canvas id="canvas" width="200" height="200"></canvas>
        <script>
          var canvas = document.querySelector('#canvas');
          var context = canvas.getContext('2d');

          var image = new Image();
          image.crossOrigin = "Anonymous";
          image.onload = function() {

            console.log('Loaded image');
            context.drawImage(image, 0, 0, canvas.width, canvas.height);
            // var localImageURL = canvas.toDataURL();
            // window.open(localImageURL);

            localStorage.setItem( "savedImageData", canvas.toDataURL("image/png") );
          };

          image.src = 'images/cat.jpg';
        </script>
    </body>
</html>
